{"ast":null,"code":"import _slicedToArray from\"E:/project/assign11/clint/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{createContext,useEffect,useState}from\"react\";import{confirmPasswordReset,createUserWithEmailAndPassword,getAuth,GoogleAuthProvider,onAuthStateChanged,sendPasswordResetEmail,signInWithEmailAndPassword,signInWithPopup,signOut}from\"firebase/auth\";import app from\"../firebase/firebase.config\";import{jsx as _jsx}from\"react/jsx-runtime\";export var AuthContext=/*#__PURE__*/createContext();var provider=new GoogleAuthProvider();var auth=getAuth(app);var UserContext=function UserContext(_ref){var children=_ref.children;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var createUser=function createUser(email,password){return createUserWithEmailAndPassword(auth,email,password);};var signIn=function signIn(email,password){setLoading(true);return signInWithEmailAndPassword(auth,email,password);};var logOut=function logOut(){localStorage.removeItem('secret-token');return signOut(auth);};useEffect(function(){var unSubscribe=onAuthStateChanged(auth,function(currentUser){console.log(\"current user inside\",currentUser);setUser(currentUser);setLoading(false);});return function(){return unSubscribe();};},[]);var LoginWithGoogle=function LoginWithGoogle(){setLoading(true);return signInWithPopup(auth,provider);};var ForgetPassword=function ForgetPassword(email){setLoading(true);return sendPasswordResetEmail(auth,email,{url:'https://pro-motors.vercel.app/login'});};var ResetPassword=function ResetPassword(oobCode,newPassword){return confirmPasswordReset(auth,oobCode,newPassword);};var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),Refresh=_useState6[0],setRefresh=_useState6[1];var authInfo={user:user,loading:loading,createUser:createUser,signIn:signIn,logOut:logOut,LoginWithGoogle:LoginWithGoogle,Refresh:Refresh,setRefresh:setRefresh,ForgetPassword:ForgetPassword,ResetPassword:ResetPassword};return/*#__PURE__*/_jsx(AuthContext.Provider,{value:authInfo,children:children});};export default UserContext;","map":{"version":3,"names":["React","createContext","useEffect","useState","confirmPasswordReset","createUserWithEmailAndPassword","getAuth","GoogleAuthProvider","onAuthStateChanged","sendPasswordResetEmail","signInWithEmailAndPassword","signInWithPopup","signOut","app","jsx","_jsx","AuthContext","provider","auth","UserContext","_ref","children","_useState","_useState2","_slicedToArray","user","setUser","_useState3","_useState4","loading","setLoading","createUser","email","password","signIn","logOut","localStorage","removeItem","unSubscribe","currentUser","console","log","LoginWithGoogle","ForgetPassword","url","ResetPassword","oobCode","newPassword","_useState5","_useState6","Refresh","setRefresh","authInfo","Provider","value"],"sources":["E:/project/assign11/clint/src/contexts/UserContext.js"],"sourcesContent":["import React, { createContext, useEffect, useState } from \"react\";\r\nimport {\r\n  confirmPasswordReset,\r\n  createUserWithEmailAndPassword,\r\n  getAuth,\r\n  GoogleAuthProvider,\r\n  onAuthStateChanged,\r\n  sendPasswordResetEmail,\r\n  signInWithEmailAndPassword,\r\n  signInWithPopup,\r\n  signOut,\r\n} from \"firebase/auth\";\r\nimport app from \"../firebase/firebase.config\";\r\n\r\nexport const AuthContext = createContext();\r\nconst provider = new GoogleAuthProvider();\r\n\r\nconst auth = getAuth(app);\r\n\r\nconst UserContext = ({ children }) => {\r\n  const [user, setUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const createUser = (email, password) => {\r\n    return createUserWithEmailAndPassword(auth, email, password);\r\n  };\r\n\r\n  const signIn = (email, password) => {\r\n    setLoading(true);\r\n\r\n    return signInWithEmailAndPassword(auth, email, password);\r\n  };\r\n  const logOut = () => {\r\n    localStorage.removeItem('secret-token')\r\n    return signOut(auth);\r\n  };\r\n  useEffect(() => {\r\n    const unSubscribe = onAuthStateChanged(auth, (currentUser) => {\r\n      console.log(\"current user inside\", currentUser);\r\n      setUser(currentUser);\r\n      setLoading(false);\r\n    });\r\n    return () => unSubscribe();\r\n  }, []);\r\n  const LoginWithGoogle = () => {\r\n    setLoading(true);\r\n    return signInWithPopup(auth, provider);\r\n  };\r\n\r\n  const ForgetPassword = ( email) => {\r\n    setLoading(true);\r\n   return sendPasswordResetEmail(auth , email , {\r\n    url :'https://pro-motors.vercel.app/login'\r\n   });\r\n  }\r\nconst ResetPassword = (oobCode ,newPassword) => {\r\n   return confirmPasswordReset(auth , oobCode , newPassword);\r\n} \r\n\r\n const [Refresh , setRefresh] = useState(false);\r\n  const authInfo = {\r\n    user,\r\n    loading,\r\n    createUser,\r\n    signIn,\r\n    logOut,\r\n    LoginWithGoogle,\r\n    Refresh ,\r\n    setRefresh,\r\n    ForgetPassword,\r\n    ResetPassword,\r\n   \r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={authInfo}>{children}</AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport default UserContext;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}