{"ast":null,"code":"import _objectSpread from\"E:/project/assign11/clint/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"E:/project/assign11/clint/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useState}from'react';import{useForm}from'react-hook-form';import{useNavigate,useParams}from'react-router-dom';import{AuthContext}from'../../contexts/UserContext';import swal from'sweetalert';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditReview=function EditReview(){var _errors$name,_errors$rating,_errors$description;var _useContext=useContext(AuthContext),Refresh=_useContext.Refresh,setRefresh=_useContext.setRefresh;var navigate=useNavigate();var _useForm=useForm(),register=_useForm.register,errors=_useForm.formState.errors,handleSubmit=_useForm.handleSubmit;var router=useParams();var id=router.id;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),Review=_useState2[0],setReview=_useState2[1];useEffect(function(){fetch(\"https://pro-motors.vercel.app/review/\".concat(id),{headers:{authorization:\" Bearer \".concat(localStorage.getItem('secret-token'))}}).then(function(response){return response.json();}).then(function(data){return setReview(data);});},[id]);var handleEdit=function handleEdit(data){var editReview={name:data.name,mail:Review.mail,productId:Review.productId,rating:data.rating,description:data.description};console.log(editReview);fetch(\"https://pro-motors.vercel.app/review/\".concat(id),{method:\"PATCH\",headers:{\"content-type\":\"application/json\",authorization:\" Bearer \".concat(localStorage.getItem('secret-token'))},body:JSON.stringify(editReview)}).then(function(response){return response.json();}).then(function(data){setRefresh(!Refresh);console.log(data);swal({title:\"Good job!\",text:\"You Update YOUR Review\",icon:\"success\",button:\"DONE\"});navigate('/myREview');}).catch(function(err){console.log(err);});};return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center  bg-gray-900\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card w-96  bg-gray-900 shadow-2xl \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body items-center text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-white\",children:\"EDIT REVIEW\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"mt-6 text-center pb-6\",onSubmit:handleSubmit(handleEdit),children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({className:\"input input-bordered w-full max-w-xs mt-6\",placeholder:\"name\",defaultValue:Review.name},register(\"name\")),{},{type:\"text\"})),errors.name&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600\",children:(_errors$name=errors.name)===null||_errors$name===void 0?void 0:_errors$name.message}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({className:\"input input-bordered w-full max-w-xs mt-6\",placeholder:\"rating\",defaultValue:Review.rating},register(\"rating\")),{},{type:\"text\"})),errors.rating&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600\",children:(_errors$rating=errors.rating)===null||_errors$rating===void 0?void 0:_errors$rating.message}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({className:\"input input-bordered w-full max-w-xs h-24 mt-6\",placeholder:\"description\",defaultValue:Review.description},register(\"description\")),{},{type:\"text\"})),errors.description&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600\",children:(_errors$description=errors.description)===null||_errors$description===void 0?void 0:_errors$description.message}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"btn w-full max-w-xs mt-6 \",value:\"Submit\",type:\"submit\"})]})]})})});};export default EditReview;","map":{"version":3,"names":["React","useContext","useEffect","useState","useForm","useNavigate","useParams","AuthContext","swal","jsx","_jsx","jsxs","_jsxs","EditReview","_errors$name","_errors$rating","_errors$description","_useContext","Refresh","setRefresh","navigate","_useForm","register","errors","formState","handleSubmit","router","id","_useState","_useState2","_slicedToArray","Review","setReview","fetch","concat","headers","authorization","localStorage","getItem","then","response","json","data","handleEdit","editReview","name","mail","productId","rating","description","console","log","method","body","JSON","stringify","title","text","icon","button","catch","err","className","children","onSubmit","_objectSpread","placeholder","defaultValue","type","message","value"],"sources":["E:/project/assign11/clint/src/Pages/EditReview/EditReview.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { AuthContext } from '../../contexts/UserContext';\r\nimport swal from 'sweetalert';\r\n\r\n\r\nconst EditReview = () => {\r\n    const { Refresh , setRefresh } = useContext(AuthContext);\r\n    const navigate = useNavigate();\r\n    const {\r\n        register,\r\n        formState: { errors },\r\n        handleSubmit,\r\n      } = useForm();\r\n    const router = useParams();\r\n    const {id} = router;\r\n\r\n    const [Review, setReview] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetch(`https://pro-motors.vercel.app/review/${id}` ,{\r\n      headers: {\r\n        authorization : ` Bearer ${localStorage.getItem('secret-token')}`\r\n    }\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => setReview(data));\r\n  }, [id]);\r\n  const handleEdit = (data) =>{\r\n    const editReview = {\r\n        name: data.name,\r\n        mail: Review.mail,\r\n        productId: Review.productId,\r\n        rating: data.rating,\r\n        description: data.description,\r\n      };\r\n    console.log(editReview);\r\n    fetch(`https://pro-motors.vercel.app/review/${id}`,{\r\n        method: \"PATCH\",\r\n        headers: {\r\n            \"content-type\": \"application/json\",\r\n            authorization : ` Bearer ${localStorage.getItem('secret-token')}`\r\n        },\r\n        body: JSON.stringify(editReview),\r\n      })\r\n          .then((response) => response.json())\r\n          .then((data) => {\r\n            setRefresh(!Refresh);\r\n            console.log(data);\r\n           \r\n            swal({\r\n              title: \"Good job!\",\r\n              text: \"You Update YOUR Review\",\r\n              icon: \"success\",\r\n              button: \"DONE\",\r\n            });\r\n            navigate('/myREview');\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          })\r\n  }\r\n\r\n    return (\r\n        <div className=\"flex justify-center  bg-gray-900\">\r\n        <div className=\"card w-96  bg-gray-900 shadow-2xl \">\r\n          <div className=\"card-body items-center text-center\">\r\n            <h1 className=\"text-2xl font-bold text-white\">EDIT REVIEW</h1>\r\n            <form\r\n              className=\"mt-6 text-center pb-6\"\r\n              onSubmit={handleSubmit(handleEdit)}\r\n            >\r\n              <input\r\n                className=\"input input-bordered w-full max-w-xs mt-6\"\r\n                placeholder=\"name\"\r\n                defaultValue={Review.name}\r\n                {...register(\"name\", )}\r\n                type=\"text\"\r\n              />\r\n              {errors.name && (\r\n                <p className=\"text-red-600\">{errors.name?.message}</p>\r\n              )}\r\n\r\n              <br />\r\n              <input\r\n                className=\"input input-bordered w-full max-w-xs mt-6\"\r\n                placeholder=\"rating\"\r\n                defaultValue={Review.rating}\r\n                {...register(\"rating\", )}\r\n                type=\"text\"\r\n              />\r\n              {errors.rating && (\r\n                <p className=\"text-red-600\">{errors.rating?.message}</p>\r\n              )}\r\n              <br />\r\n              <input\r\n                className=\"input input-bordered w-full max-w-xs h-24 mt-6\"\r\n                placeholder=\"description\"\r\n                defaultValue={Review.description}\r\n                {...register(\"description\", )}\r\n                type=\"text\"\r\n              />\r\n              {errors.description && (\r\n                <p className=\"text-red-600\">{errors.description?.message}</p>\r\n              )}\r\n              <br />\r\n\r\n              <input\r\n                className=\"btn w-full max-w-xs mt-6 \"\r\n                value=\"Submit\"\r\n                type=\"submit\"\r\n              />\r\n              \r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n};\r\n\r\nexport default EditReview;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}