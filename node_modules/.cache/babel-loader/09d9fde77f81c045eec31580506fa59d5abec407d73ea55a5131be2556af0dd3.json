{"ast":null,"code":"import React,{useContext}from'react';import{Link,useLocation,useNavigate}from'react-router-dom';import{AuthContext}from'../../contexts/UserContext';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _location$state,_location$state$from;var _useContext=useContext(AuthContext),signIn=_useContext.signIn;var _useContext2=useContext(AuthContext),LoginWithGoogle=_useContext2.LoginWithGoogle;var navigate=useNavigate();var location=useLocation();var from=((_location$state=location.state)===null||_location$state===void 0?void 0:(_location$state$from=_location$state.from)===null||_location$state$from===void 0?void 0:_location$state$from.pathname)||'/';var handleSubmit=function handleSubmit(event){event.preventDefault();var form=event.target;var email=form.email.value;var password=form.password.value;signIn(email,password).then(function(result){var user=result.user;var currentUser={email:user.email};fetch(\"https://pro-motors.vercel.app/jwt\",{method:'POST',headers:{'content-type':'application/json'},body:JSON.stringify(currentUser)}).then(function(res){return res.json();}).then(function(result){console.log(result);localStorage.setItem('secret-token',result.token);toast(\" login successfull\");}).catch(function(err){return console.error(err);});form.reset();navigate(from,{replace:true});}).catch(function(error){return console.error(error);});};var handleLogin=function handleLogin(event){event.preventDefault();LoginWithGoogle().then(function(result){var user=result.user;var currentUser={email:user.email};fetch(\"https://pro-motors.vercel.app/jwt\",{method:'POST',headers:{'content-type':'application/json'},body:JSON.stringify(currentUser)}).then(function(res){return res.json();}).then(function(result){console.log(result);localStorage.setItem('secret-token',result.token);toast(\" login successfull\");}).catch(function(err){return console.error(err);});console.log(user);navigate(from,{replace:true});}).catch(function(error){console.error('error:',error);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center  bg-gray-900\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card w-96  bg-gray-900 shadow-2xl \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body items-center text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-white\",children:\"LOGIN\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Type Email\",className:\"input  mt-10 input-bordered w-full max-w-xs\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Type Password\",className:\"input mt-10 input-bordered w-full max-w-xs\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-white left-0 \",children:/*#__PURE__*/_jsx(Link,{className:\"underline underline-offset-1\",to:\"/forgetPassword\",children:\"forget password\"})}),/*#__PURE__*/_jsx(\"input\",{className:\"btn  mt-10\",type:\"submit\",value:\"LogIn\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"divider \"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleLogin,variant:\"outline-primary\",children:[\" \",/*#__PURE__*/_jsx(\"img\",{className:\"g-logo w-10 h-10\",src:\"https://seeklogo.com/images/G/google-2015-logo-65BBD07B01-seeklogo.com.png\",alt:\"\"}),\" \"]}),/*#__PURE__*/_jsxs(\"h1\",{className:\"text-white mt-10\",children:[\"Are you new here? \",/*#__PURE__*/_jsx(Link,{className:\"underline underline-offset-1\",to:\"/signup\",children:\"SignUp\"})]})]})}),/*#__PURE__*/_jsx(ToastContainer,{})]});};export default Login;","map":{"version":3,"names":["React","useContext","Link","useLocation","useNavigate","AuthContext","ToastContainer","toast","jsx","_jsx","jsxs","_jsxs","Login","_location$state","_location$state$from","_useContext","signIn","_useContext2","LoginWithGoogle","navigate","location","from","state","pathname","handleSubmit","event","preventDefault","form","target","email","value","password","then","result","user","currentUser","fetch","method","headers","body","JSON","stringify","res","json","console","log","localStorage","setItem","token","catch","err","error","reset","replace","handleLogin","className","children","onSubmit","type","name","placeholder","to","onClick","variant","src","alt"],"sources":["E:/project/assign11/clint/src/Pages/Login/Login.js"],"sourcesContent":["import React, { useContext } from 'react';\r\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\r\nimport { AuthContext } from '../../contexts/UserContext';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nconst Login = () => {\r\n\r\n  const {signIn} = useContext(AuthContext);\r\n  const {LoginWithGoogle} = useContext(AuthContext);\r\n  const navigate = useNavigate();\r\n const location = useLocation()\r\n const from = location.state?.from?.pathname|| '/';\r\n\r\n\r\n  const handleSubmit = (event)=>{\r\n    event.preventDefault();\r\n    const form = event.target;\r\n    const email = form.email.value;\r\n    const password = form.password.value;\r\n\r\n    signIn(email,password)\r\n    .then(result =>{\r\n      const user = result.user;\r\n      \r\n      const currentUser = {\r\n        email: user.email\r\n      }\r\n\r\n      fetch(\"https://pro-motors.vercel.app/jwt\" , {\r\n        method : 'POST',\r\n        headers: {\r\n          'content-type': 'application/json'\r\n       },\r\n       body: JSON.stringify(currentUser)\r\n      })\r\n      .then(res => res.json())\r\n      .then(result => {\r\n          console.log(result); \r\n          localStorage.setItem('secret-token' , result.token)\r\n          toast(\" login successfull\");\r\n      })\r\n      .catch(err => console.error(err));\r\n      form.reset();\r\n      navigate(from , {replace : true})\r\n    }) \r\n    .catch(error => console.error(error));\r\n  }\r\n\r\n  const handleLogin = (event) =>{\r\n    event.preventDefault();\r\n    LoginWithGoogle()\r\n    .then(result => {\r\n      const user = result.user;\r\n      const currentUser = {\r\n        email: user.email\r\n      }\r\n\r\n      fetch(\"https://pro-motors.vercel.app/jwt\" , {\r\n        method : 'POST',\r\n        headers: {\r\n          'content-type': 'application/json'\r\n       },\r\n       body: JSON.stringify(currentUser)\r\n      })\r\n      .then(res => res.json())\r\n      .then(result => {\r\n          console.log(result); \r\n          localStorage.setItem('secret-token' , result.token);\r\n          toast(\" login successfull\");\r\n      })\r\n      .catch(err => console.error(err));\r\n      console.log(user);\r\n      navigate(from , {replace : true})\r\n  \r\n  \r\n    })\r\n    .catch( error => {\r\n      console.error('error:',error);\r\n    })\r\n  \r\n  \r\n  }\r\n\r\n\r\n\r\n\r\n    return (\r\n       <div className='flex justify-center  bg-gray-900'>\r\n         <div className=\"card w-96  bg-gray-900 shadow-2xl \">\r\n  <div className=\"card-body items-center text-center\">\r\n    <h1 className='text-2xl font-bold text-white'>LOGIN</h1>\r\n  <form onSubmit={handleSubmit}>\r\n  <input type=\"email\" name='email' placeholder=\"Type Email\" className=\"input  mt-10 input-bordered w-full max-w-xs\" />\r\n  <input type=\"password\" name='password' placeholder=\"Type Password\" className=\"input mt-10 input-bordered w-full max-w-xs\" />\r\n  <h1 className='text-white left-0 '><Link className='underline underline-offset-1' to='/forgetPassword'>forget password</Link></h1>\r\n  <input className='btn  mt-10' type=\"submit\" value=\"LogIn\" />\r\n</form>\r\n<div className=\"divider \"></div>\r\n<button onClick={handleLogin}   variant=\"outline-primary\"> <img className='g-logo w-10 h-10' src='https://seeklogo.com/images/G/google-2015-logo-65BBD07B01-seeklogo.com.png' alt=''/> </button>\r\n<h1 className='text-white mt-10'>Are you new here? <Link className='underline underline-offset-1' to='/signup'>SignUp</Link></h1>\r\n    \r\n  </div>\r\n</div>\r\n<ToastContainer />\r\n       </div>\r\n    );\r\n};\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}